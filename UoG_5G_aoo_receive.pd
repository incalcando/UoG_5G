#N canvas 700 551 710 373 12;
#X declare -lib aoo;
#X declare -lib osc;
#X obj 35 36 inlet;
#X obj 301 25 declare -lib aoo;
#X obj 301 50 declare -lib osc;
#X msg 317 248 \; pd dsp 1;
#X msg 319 294 \; pd dsp 0;
#X msg 92 136 0;
#X msg 35 163 port \$1;
#X floatatom 35 136 6 0 0 0 - - - 0;
#X text 97 163 change UDP port;
#X text 127 136 0 = don't listen;
#X obj 35 93 route sink_port;
#X obj 42 362 outlet~;
#X obj 140 356 outlet~;
#N canvas 961 0 696 906 events 0;
#X obj 37 32 inlet;
#X text 63 144 a source has been added;
#X obj 37 85 outlet;
#X msg 38 219 invite_timeout <host> <port> <ID>;
#X text 64 243 an invite request for the given source has timed out;
#X text 71 421 the stream has been stopped;
#X obj 115 59 tgl 19 0 \$0-ping \$0-ping empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X text 140 59 post pings;
#N canvas 518 262 811 433 route 0;
#X obj 83 58 inlet;
#X obj 83 264 outlet;
#X obj 154 117 r \$0-ping;
#X obj 115 145 spigot;
#X obj 83 117 t b a;
#X obj 115 172 list prepend ping;
#X obj 115 204 list trim;
#X text 167 145 filter pings;
#X obj 115 235 print aoo_receive~;
#X obj 319 117 r \$0-time;
#X obj 280 144 spigot;
#X obj 280 172 list prepend time;
#X obj 280 200 list trim;
#X obj 280 228 print aoo_receive~;
#X obj 491 289 route osc fudi, f 20;
#X obj 491 319 oscparse;
#X obj 559 319 fudiparse;
#X obj 491 262 list trim;
#X obj 451 229 list split 3;
#X obj 483 144 print aoo_receive~;
#X obj 451 116 t a a;
#X obj 83 88 route ping time, f 53;
#X text 466 174 parse stream metadata and stream messages;
#X obj 451 202 route start msg, f 28;
#X obj 491 347 print DATA;
#X obj 547 230 list split 4;
#X connect 0 0 21 0;
#X connect 2 0 3 1;
#X connect 3 0 5 0;
#X connect 4 0 1 0;
#X connect 4 1 3 0;
#X connect 5 0 6 0;
#X connect 6 0 8 0;
#X connect 9 0 10 1;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 14 0 15 0;
#X connect 14 1 16 0;
#X connect 15 0 24 0;
#X connect 16 0 24 0;
#X connect 17 0 14 0;
#X connect 18 1 17 0;
#X connect 20 0 23 0;
#X connect 20 1 19 0;
#X connect 21 0 4 0;
#X connect 21 1 10 0;
#X connect 21 2 20 0;
#X connect 23 0 18 0;
#X connect 23 1 25 0;
#X connect 25 1 17 0;
#X restore 37 59 pd route;
#X f 9;
#X msg 38 122 add <host> <port> <ID>;
#X msg 38 170 remove <host> <port> <ID>;
#X text 65 192 a source has been removed;
#X msg 40 271 uninvite_timeout <host> <port> <ID>;
#X text 66 295 an uninvite request for the given source has timed out;
#X text 42 1645 ---;
#X text 67 1375 jitter buffer overrun. If this happens repeatedly \, try to increase the latency., f 80;
#X text 66 1435 jitter buffer underrun. If this happens repeatedly \, try to increase the latency., f 80;
#X text 74 986 <delta1> is the approx. delay between sink and source (in ms), f 62;
#X text 74 1007 <delta2> is the approx. delay between sink and source (in ms), f 62;
#X text 72 949 A periodic message exchanged between sink and source that may be used for network latency estimation., f 71;
#X text 71 476 the source has change its state (0: idle \, 1: active \, 2: buffering), f 67;
#X text 74 556 the source format has changed \, see [pd format ...] in [aoo_send~], f 66;
#X text 70 1495 empty blocks because of source xrun;
#X text 69 1607 blocks have been dropped because they did not arrive. typically caused by jitter or packet loss.;
#X text 70 1550 blocks have been successfully resent;
#X msg 38 590 msg <host> <port> <ID> <channel> <type> <data...>;
#X text 65 616 a stream message from a particular source. See [pd message] in [aoo_send~]., f 75;
#X text 64 636 NB: this event is scheduled sample accurately \, albeit with one block delay., f 76;
#X text 73 497 NB: this event is scheduled sample accurately \, albeit with a one block delay., f 77;
#X msg 38 329 start <host> <port> <ID> [<type> <data...>];
#X text 73 353 a new stream has been started. <type> and <data...> are the (optional) stream metadata \, see [pd metadata] in [aoo_send~]., f 62;
#X msg 39 398 stop <host> <port> <ID>;
#X msg 39 452 state <host> <port> <ID> <state>;
#X msg 38 1351 overrun <host> <port> <ID>;
#X msg 38 1407 underrun <host> <port> <ID>;
#X msg 38 1468 block_xrun <host> <port> <ID> <count>;
#X msg 38 1523 block_resent <host> <port> <ID> <count>;
#X msg 39 1579 block_dropped <host> <port> <ID> <count>;
#X obj 229 60 tgl 19 0 \$0-time \$0-time empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X text 252 60 post stream time;
#X msg 36 920 ping <host> <port> <ID> <delta1> <delta2> <network_rtt> <total_rtt>, f 69;
#X text 74 1047 <total_rtt> is the total roundtrip time (in ms), f 49;
#X msg 38 528 format <host> <port> <ID> <codec> <channels> <blocksize> <sr> ..., f 66;
#X text 69 695 stream time stamp.;
#X text 67 796 This means that the time values are relative \, but since all AOO objects (in the same Pd process) share the same time base \, they can be compared to each other., f 80;
#X text 68 762 Since Pd cannot accurately represent NTP time stamps \, they are converted to the number of elapsed milliseconds since the AOO library has been loaded., f 78;
#X text 74 1027 <network_rtt> is the approx. network roundtrip time (in ms), f 73;
#X text 75 1071 NOTE: The roundtrip time does not necessarily equal the sum of the deltas because the clocks may be out of sync. If one clock runs significantly early or late \, the deltas can even be negative!, f 75;
#X text 76 1121 HINT: The clock time offset can estimated with (delta1 - delta2) * 0.5., f 73;
#X msg 37 671 time <host> <port> <ID> <source_time> <sink_time>;
#X text 69 715 <source_time> is the source time \, <sink_time> is the corresponding local time. Both are measured in (logical) sample time \, using the respective stream start time as their reference point., f 79;
#X text 67 855 HINT: This can be used to synchronize multiple independent streams., f 76;
#X text 66 833 The event is scheduled sample accurately \, but with a one block delay., f 77;
#X text 67 877 NB: If the sink clock runs ahead of the source clock \, <source_time> can even be negative!, f 77;
#X msg 38 1153 latency <source_latency> <sink_latency> <buffer_latency>;
#X text 67 1177 one or more latency values have changed., f 44;
#X text 69 1320 All values are measured in milliseconds., f 43;
#X text 70 1197 <source_latency> is the sum of the source-side reblock/resample latency and codec delay. It is typically constant for the whole stream., f 76;
#X text 69 1232 <sink_latency> is the sum of the sink-side (local) reblock/resample latency and codec delay. It is typically constant for the whole stream., f 76;
#X text 69 1269 <buffer_latency> is the *actual* jitter buffer latency. It can differ from the nominal latency and even change during the stream \, e.g. after buffer underruns or overruns., f 77;
#X connect 0 0 8 0;
#X connect 8 0 2 0;
#X restore 229 298 pd events;
#X obj 229 322 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 229 346 outlet;
#X msg 437 26 hostname;
#X obj 437 50 ggee/shell;
#X obj 437 74 list prepend invite;
#X obj 439 125 list append;
#X obj 588 95 pack 0 1;
#X floatatom 589 59 6 0 0 2 source_port source_port - 0;
#X obj 416 205 print;
#X listbox 260 112 38 0 0 0 - - - 0;
#X obj 260 135 list trim;
#X obj 40 258 aoo_receive~ 2 0 1;
#X msg 90 29 invite localhost 50101 1;
#X msg 101 62 uninvite localhost 50101 1;
#X msg 300 170 invite arbhar-dev.local 50201 1;
#X connect 0 0 10 0;
#X connect 5 0 6 0;
#X connect 6 0 25 0;
#X connect 7 0 6 0;
#X connect 10 0 7 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 19 0 23 0;
#X connect 20 0 19 1;
#X connect 21 0 20 0;
#X connect 23 0 24 0;
#X connect 24 0 25 0;
#X connect 25 0 11 0;
#X connect 25 1 12 0;
#X connect 25 2 13 0;
#X connect 26 0 25 0;
#X connect 27 0 25 0;
#X connect 28 0 25 0;
